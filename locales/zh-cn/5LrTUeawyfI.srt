1
00:00:00,000 --> 00:00:07,000
对于这个问题 你要从字符串产生一个词语列表

2
00:00:07,000 --> 00:00:10,000
字符串被空格或标签所分隔

3
00:00:10,000 --> 00:00:13,000
你必须去掉所有的标签

4
00:00:13,000 --> 00:00:19,000
这里有标签 这里、这里、这里和这里

5
00:00:19,000 --> 00:00:23,000
现在 我们不只是完全将标签删除 因为我们会有

6
00:00:23,000 --> 00:00:29,000
TitleThis 被写成一个词语 我们不要这个结果

7
00:00:29,000 --> 00:00:32,000
我要做的第一件事是 我要移除标签

8
00:00:32,000 --> 00:00:37,000
我要搜索第一个标签 起始标签和结束标签

9
00:00:37,000 --> 00:00:40,000
然后我要删除整个标签

10
00:00:40,000 --> 00:00:47,000
但我不只是将其删除 我要将它替换为一个空格

11
00:00:47,000 --> 00:00:52,000
因为替换空格 意味着我不会像 TitleThis

12
00:00:52,000 --> 00:00:56,000
执行后变成一个词语的问题

13
00:00:56,000 --> 00:01:02,000
一旦所有的标签都替换为空格 我打算使用之前的 split

14
00:01:02,000 --> 00:01:06,000
对空格做拆解

15
00:01:06,000 --> 00:01:09,000
一行中有几个空格并不是问题

16
00:01:09,000 --> 00:01:12,000
因为 split 会移除他们

17
00:01:12,000 --> 00:01:16,000
现在来看看如何写程序

18
00:01:16,000 --> 00:01:19,000
我们要定义一个函数 remove_tag

19
00:01:19,000 --> 00:01:26,000
它需要一个字符串作为输入 我要做的第一件事是寻找

20
00:01:26,000 --> 00:01:34,000
字符串中的 start 位置 —— 第一个左括号的 start 位置

21
00:01:34,000 --> 00:01:40,000
我还需要找到右括号 —— 相同标签的末尾

22
00:01:40,000 --> 00:01:45,000
为了安全起见 要确定找到对的标签 我要从 start 位置开始寻找

23
00:01:45,000 --> 00:01:50,000
我要从初始的左括号开始寻找

24
00:01:50,000 --> 00:01:53,000
于是我找到下一个右括号

25
00:01:53,000 --> 00:01:57,000
现在 这会找到第一个标签 如果字符串中有多个标签

26
00:01:57,000 --> 00:02:01,000
我必须做许多次

27
00:02:01,000 --> 00:02:09,000
当我有起始标签 —— 请记住 如果在字符串中找不到标签

28
00:02:09,000 --> 00:02:12,000
传回 -1

29
00:02:12,000 --> 00:02:19,000
只要我们还没有获得 -1  我们要不断地寻找标签并删除它们

30
00:02:19,000 --> 00:02:23,000
现在实际地删除标签 我现在将字符串拆散

31
00:02:23,000 --> 00:02:28,000
我要获取标签之前的部分 以及之后的部分 将他们联合起来

32
00:02:28,000 --> 00:02:31,000
我要采用字符串一直到 start

33
00:02:31,000 --> 00:02:39,000
现在 这实际上排除了起始标签 因为它在比 start 小的一个位置结束

34
00:02:39,000 --> 00:02:48,000
我会以空格替换标签 然后将标签之后字符串的其余部分放在最后

35
00:02:48,000 --> 00:02:54,000
现在 我要在 end 之后的一个位置开始 因为 end 是结束标签的位置

36
00:02:54,000 --> 00:02:58,000
我们不想包括它

37
00:02:58,000 --> 00:03:04,000
现在我有了一个新字符串 我要看看是否存在另一个标签 我必须删除它

38
00:03:04,000 --> 00:03:08,000
我要寻找下一个起始标签

39
00:03:08,000 --> 00:03:13,000
如果我找到起始标签 当它来到 while 循环的顶部 它就会再执行一次

40
00:03:13,000 --> 00:03:17,000
如果我找不到另一个起始标签 while 循环就会结束

41
00:03:17,000 --> 00:03:22,000
在这种情况下 我想要传回字符串 但不只是字符串

42
00:03:22,000 --> 00:03:25,000
我想把它拆解为单独的词

43
00:03:25,000 --> 00:03:29,000
我只要执行 split 这几乎完成了代码

44
00:03:29,000 --> 00:03:33,000
除了我误称这个过程为 remove_tag

45
00:03:33,000 --> 00:03:36,000
而不是 remove_tags 现在大功告成


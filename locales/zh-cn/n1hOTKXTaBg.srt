1
00:00:00,580 --> 00:00:03,280
但是我们如何从分布在 0 至 1 之间的

2
00:00:03,278 --> 00:00:06,968
分类概率到这些离散类别呢

3
00:00:06,969 --> 00:00:09,580
我们必须创建一些阈值常数

4
00:00:09,580 --> 00:00:12,640
并使用它们来对每个面部表情分类

5
00:00:12,640 --> 00:00:15,370
但是你如何决定这些阈值应该是什么呢？

6
00:00:15,368 --> 00:00:18,039
打开你的应用 开始对做出各种

7
00:00:18,039 --> 00:00:20,201
面部表情的人拍照

8
00:00:20,201 --> 00:00:22,449
然后观察日志 看库返回的

9
00:00:22,449 --> 00:00:23,399
概率

10
00:00:23,399 --> 00:00:25,690
你的眼睛睁开时的分类概率

11
00:00:25,690 --> 00:00:26,600
是多少？

12
00:00:26,600 --> 00:00:28,450
闭着时呢？

13
00:00:28,449 --> 00:00:30,189
多次重复这个过程 直到阈值

14
00:00:30,190 --> 00:00:31,339
开始变得明确

15
00:00:31,338 --> 00:00:33,128
确保也对你的朋友拍照

16
00:00:33,130 --> 00:00:35,800
因为阈值可能

17
00:00:35,798 --> 00:00:37,329
因人而异

18
00:00:37,329 --> 00:00:39,338
在你的 Emojifier 类中 创建这些

19
00:00:39,340 --> 00:00:41,092
阈值作为双常数

20
00:00:41,091 --> 00:00:42,548
这样 如果你在之后获得意外的结果

21
00:00:42,548 --> 00:00:45,774
则可以随时调整它们

22
00:00:45,774 --> 00:00:47,189
有了阈值常数后

23
00:00:47,189 --> 00:00:49,228
就可以将每个分类概率

24
00:00:49,228 --> 00:00:51,868
与适当的常数进行比较 并获得每个类别的

25
00:00:51,868 --> 00:00:53,393
布尔值

26
00:00:53,395 --> 00:00:55,020
你总共需要三个布尔值

27
00:00:55,020 --> 00:00:57,600
来完全对一个面部表情分类

28
00:00:57,600 --> 00:01:00,270
对于嘴巴 你只需一个布尔值来确定

29
00:01:00,270 --> 00:01:01,740
此人是不是在笑

30
00:01:01,740 --> 00:01:03,510
或者是否在皱眉

31
00:01:03,509 --> 00:01:05,280
对于眼睛 你需要两个布尔值

32
00:01:05,280 --> 00:01:08,340
来确定此人的每只眼睛是不是闭着的

33
00:01:08,340 --> 00:01:10,020
使用这些布尔值 你将

34
00:01:10,019 --> 00:01:13,039
能够构建四个眼睛类别

35
00:01:13,040 --> 00:01:14,790
使用这些分类 我们可以创建

36
00:01:14,790 --> 00:01:16,630
八个表情符号

37
00:01:16,629 --> 00:01:18,420
下一步是将此表转换

38
00:01:18,420 --> 00:01:21,329
为代码 它会将任何一组分类概率

39
00:01:21,328 --> 00:01:25,169
对应这八个可能的表情符号中的一个

40
00:01:25,170 --> 00:01:27,670
为此 你需要以下东西

41
00:01:27,670 --> 00:01:31,760
一个 enum Emoji 类 以所有可能的表情符号作为项

42
00:01:31,760 --> 00:01:33,359
之前所讲的三个布尔值

43
00:01:33,358 --> 00:01:35,824
用于定义六个类别

44
00:01:35,825 --> 00:01:38,010
以及 if else 语句 它使用之前

45
00:01:38,010 --> 00:01:40,650
选择适当表情符号 enum 的那一步的

46
00:01:40,650 --> 00:01:41,700
布尔值

47
00:01:41,700 --> 00:01:44,210
对所选的表情符号 enum 使用 name 方法

48
00:01:44,209 --> 00:01:46,109
以在从 if else 代码块选择了

49
00:01:46,108 --> 00:01:48,863
适当表情符号后记录其名称

50
00:01:48,864 --> 00:01:50,280
你应该在 getClassification 方法中

51
00:01:50,280 --> 00:01:52,290
实现这些更改

52
00:01:52,290 --> 00:01:54,500
重命名为 whichEmoji

53
00:01:54,500 --> 00:01:57,180
在 detectFaces 中 你应该将调用

54
00:01:57,180 --> 00:02:00,840
从 getClassifications 到新的重命名的 whichEmoji 

55
00:02:00,840 --> 00:02:03,299
方法 以在拍摄照片后

56
00:02:03,299 --> 00:02:06,390
使最适合的表情符号显示在日志中

57
00:02:06,390 --> 00:02:09,120
如果你卡住了 可以跳过并查看代码

58
00:02:09,120 --> 00:02:12,680
但建议你还是自己尝试解决


1
00:00:00,234 --> 00:00:02,649
现在 我们知道了如何成功

2
00:00:02,649 --> 00:00:05,620
在 MasterListFragment 和 MainActivity 之间建立通信

3
00:00:05,620 --> 00:00:07,220
这里还有一步

4
00:00:07,219 --> 00:00:10,150
我们需要将来自 MainActivity 的信息

5
00:00:10,150 --> 00:00:12,790
转换为身体部位Fragment 以有效更新

6
00:00:12,788 --> 00:00:14,558
其内容

7
00:00:14,560 --> 00:00:17,830
因此 当 MasterListFragment 中的图像被选中时

8
00:00:17,829 --> 00:00:19,329
我们要存储列表索引

9
00:00:19,329 --> 00:00:22,239
以显示选定的头部、身体和

10
00:00:22,239 --> 00:00:23,500
腿部图像

11
00:00:23,500 --> 00:00:25,870
然后在后面的 Android Me Activity 中显示这些

12
00:00:25,870 --> 00:00:27,519
选项

13
00:00:27,518 --> 00:00:30,308
首先 我将添加类变量来存储被点击图像

14
00:00:30,309 --> 00:00:31,809
的位置

15
00:00:31,809 --> 00:00:35,320
头部、身体和腿部各一个变量

16
00:00:35,320 --> 00:00:37,359
它们的值将全部在 0 到 11 的

17
00:00:37,359 --> 00:00:40,880
范围内 因为这些列表中的每个都有 12 个图像

18
00:00:40,880 --> 00:00:43,330
但是点击位置可一直到 35

19
00:00:43,329 --> 00:00:46,989
如我们之前所说 这是所有图像的列表

20
00:00:46,990 --> 00:00:49,810
那么 要获取正确索引处的正确身体部位

21
00:00:49,810 --> 00:00:51,880
我们得做一些有用的算数

22
00:00:51,880 --> 00:00:55,429
我们知道头部、身体和腿部各有 12 个图像

23
00:00:55,429 --> 00:00:57,908
如果我们给点击位置除以 12

24
00:00:57,908 --> 00:00:59,689
便可以识别图像类型

25
00:00:59,689 --> 00:01:02,259
即是头部、身体还是腿部 以及

26
00:01:02,259 --> 00:01:04,959
它们在各自Fragment图像 ID 列表中的

27
00:01:04,959 --> 00:01:05,740
索引

28
00:01:05,739 --> 00:01:09,280
在这里的身体部位数量中 头部Fragment将为 0

29
00:01:09,280 --> 00:01:12,760
身体为 1 和腿部Fragment为 2

30
00:01:12,760 --> 00:01:16,719
而列表索引将始终为 0 到 11 之间的一个值

31
00:01:16,718 --> 00:01:18,518
然后我们可以使用一个 switch 语句

32
00:01:18,519 --> 00:01:21,399
更新 onImageSelected 调用中的

33
00:01:21,400 --> 00:01:22,840
索引变量

34
00:01:22,840 --> 00:01:25,930
在任何情况下 我们都将设置正确的索引

35
00:01:25,930 --> 00:01:28,400
然后 要将此信息实际传递给 Android Me

36
00:01:28,400 --> 00:01:31,180
Activity 我们需要将其打包 然后附加到

37
00:01:31,180 --> 00:01:34,840
启动新 Android Me Activity 的新 intent

38
00:01:34,840 --> 00:01:38,920
再次说明 bundle 只是一组键值对

39
00:01:38,920 --> 00:01:40,540
要实际启动此 Activity

40
00:01:40,540 --> 00:01:42,940
我还要添加一个标为“下一个”(Next) 的按钮

41
00:01:42,938 --> 00:01:46,869
它会让我们从 MasterList 移到 Android Me Activity

42
00:01:46,870 --> 00:01:49,590
那么在 MasterListFragment 布局的底部

43
00:01:49,590 --> 00:01:52,780
我要添加一个 Next 按钮 我要将这些全部包裹

44
00:01:52,780 --> 00:01:55,480
在一个垂直线性布局中

45
00:01:55,480 --> 00:01:57,730
我要给这个按钮一个 ID：next_button 以在

46
00:01:57,730 --> 00:02:00,079
我们的 Activity 中引用它

47
00:02:00,078 --> 00:02:01,988
那么回到 MainActivity 代码中

48
00:02:01,989 --> 00:02:04,448
我将引用此 Next 按钮 只要点击它

49
00:02:04,450 --> 00:02:07,120
便会启动新的 Android Me Activity

50
00:02:07,120 --> 00:02:09,520
还有一个任务我要留给你

51
00:02:09,520 --> 00:02:11,260
在 Android Me Activity 中 你要

52
00:02:11,258 --> 00:02:13,448
检索此 intent 中发送

53
00:02:13,449 --> 00:02:16,000
的信息包 然后为所有身体部位Fragment

54
00:02:16,000 --> 00:02:18,669
设置正确的列表索引

55
00:02:18,669 --> 00:02:20,379
完成此练习后 你就

56
00:02:20,378 --> 00:02:21,728
有一个完整的手机应用了

57
00:02:21,729 --> 00:02:23,289
再搞定一个练习

58
00:02:23,288 --> 00:02:25,538
就能完成我们的双窗格平板电脑布局了

59
00:02:25,538 --> 00:02:27,718
目前位置你做的很好

